<!-- sidebar.html -->
<nav
  class="fixed top-0 left-0 h-full w-64 bg-[#142D5A] p-4 shadow-lg transform transition-transform duration-300 ease-in-out md:translate-x-0 md:relative md:shadow-none z-40"
  [class.-translate-x-full]="isMobile && !sidebarOpen"
>
  <!-- Logo -->
  <div class="flex justify-center mb-6">
    <img src="/logoazul.png" alt="Logo de la empresa" class="h-16 object-contain" />
  </div>

  <ul class="space-y-2">
    @for (item of menus; track item.label) {
      @if (item.children) {
        <details class="group">
          <summary
            class="flex items-center gap-2 p-2 cursor-pointer rounded hover:bg-[#1e3c73] text-white"
          >
            <i [class]="item.icon"></i>
            <span>{{ item.label }}</span>
            <svg
              class="w-4 h-4 transform transition-transform duration-200 group-open:rotate-180"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </summary>

          <ul class="ml-4 mt-2 space-y-1">
            @for (child of item.children; track child.label) {
              <li>
                <a
                  [routerLink]="child.link"
                  class="block p-2 text-sm rounded hover:bg-[#1e3c73] text-white cursor-pointer"
                >
                  {{ child.label }}
                </a>
              </li>
            }
          </ul>
        </details>
      } @else {
        <a
          [routerLink]="item.link"
          class="flex items-center gap-2 p-2 rounded hover:bg-[#1e3c73] text-white cursor-pointer"
        >
          <i [class]="item.icon"></i>
          <span>{{ item.label }}</span>
        </a>
      }
    }
  </ul>
</nav>
